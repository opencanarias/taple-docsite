<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="TAPLE is a DLT focused on traceability characterized by its level of scalability, its flexibility to be employed in different devices and use cases and its reduced resource consumption, including power consumption."><meta name="keywords" content="rust, rustlang, rust-lang, taple_core"><title>taple_core - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-6827029ac823cab7.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../static.files/light-ebce58d0a40c3431.css"><link rel="stylesheet" disabled href="../static.files/dark-f23faae4a2daf9a6.css"><link rel="stylesheet" disabled href="../static.files/ayu-8af5e100b21cd173.css"><script id="default-settings" ></script><script src="../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-c55e1eb52e1886b4.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../taple_core/index.html"><div class="logo-container"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../taple_core/index.html"><div class="logo-container"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2 class="location"><a href="#">Crate taple_core</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 0.4.0-dev</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Crate <a class="mod" href="#">taple_core</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/taple_core/lib.rs.html#1-136">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>TAPLE is a DLT focused on traceability characterized by its level of scalability,
its flexibility to be employed in different devices and use cases and its reduced resource consumption,
including power consumption.</p>
<p>The TAPLE crate provides the library that allows instantiating nodes of this DLT in order to create a
functional network through a single structure containing all the required logic.
Applications can interact with these nodes through the API they expose, thus enabling read and write operations
against the network. The API also allows the design and creation of customized clients for the technology
according to the user’s needs.</p>
<p>In addition to the node itself, the library also exposes a series of data structures specific to the protocol
that can be obtained when interacting with the API or, in some cases, may be necessary to interact with it.</p>
<h2 id="basic-usage"><a href="#basic-usage">Basic usage</a></h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>std::str::FromStr;

<span class="kw">use </span>taple_core::crypto::<span class="kw-2">*</span>;
<span class="kw">use </span>taple_core::request::<span class="kw-2">*</span>;
<span class="kw">use </span>taple_core::signature::<span class="kw-2">*</span>;
<span class="kw">use </span>taple_core::<span class="kw-2">*</span>;

<span class="doccomment">/**
 * Basic usage of TAPLE Core. It includes:
 * - Node inicialization with on-memory DB (only for testing purpouse)
 * - Minimal governance creation example
 */
</span><span class="attr">#[tokio::main]
</span><span class="kw">async fn </span>main() {
     <span class="comment">// Generate ramdom node ID key pair
     </span><span class="kw">let </span>node_key_pair = crypto::KeyPair::Ed25519(Ed25519KeyPair::from_seed(<span class="kw-2">&amp;</span>[]));

    <span class="comment">// Configure minimal settings
    </span><span class="kw">let </span>settings = {
        <span class="kw">let </span><span class="kw-2">mut </span>settings = Settings::default();
        settings.node.secret_key = hex::encode(node_key_pair.secret_key_bytes());
        settings
    };

    <span class="comment">// Build node
    </span><span class="kw">let </span>(<span class="kw-2">mut </span>node, api) = Node::build(settings, MemoryManager::new()).expect(<span class="string">&quot;TAPLE node built&quot;</span>);

    <span class="comment">// Create a minimal governance
    // Compose and sign the subject creation request
    </span><span class="kw">let </span>governance_key = api
        .add_keys(KeyDerivator::Ed25519)
        .<span class="kw">await
        </span>.expect(<span class="string">&quot;Error getting server response&quot;</span>);
    <span class="kw">let </span>create_subject_request = EventRequest::Create(StartRequest {
        governance_id: DigestIdentifier::default(),
        name: <span class="string">&quot;&quot;</span>.to_string(),
        namespace: <span class="string">&quot;&quot;</span>.to_string(),
        schema_id: <span class="string">&quot;governance&quot;</span>.to_string(),
        public_key: governance_key,
    });
    <span class="kw">let </span>signed_request = Signed::&lt;EventRequest&gt; {
        content: create_subject_request.clone(),
        signature: Signature::new(<span class="kw-2">&amp;</span>create_subject_request, <span class="kw-2">&amp;</span>node_key_pair).unwrap(),
    };

    <span class="comment">// Send the signed request to the node
    </span><span class="kw">let </span>_request_id = api.external_request(signed_request).<span class="kw">await</span>.unwrap();

    <span class="comment">// Wait until event notification
    </span><span class="kw">let </span>subject_id = <span class="kw">if let </span>Notification::NewEvent { sn: <span class="kw">_</span>, subject_id } = node
        .recv_notification()
        .<span class="kw">await
        </span>.expect(<span class="string">&quot;NewEvent notification received&quot;</span>)
    {
        subject_id
    } <span class="kw">else </span>{
        <span class="macro">panic!</span>(<span class="string">&quot;Unexpected notification&quot;</span>);
    };

    <span class="comment">// Get the new subject data
    </span><span class="kw">let </span>subject = api
        .get_subject(DigestIdentifier::from_str(<span class="kw-2">&amp;</span>subject_id).unwrap())
        .<span class="kw">await
        </span>.unwrap_or_else(|<span class="kw">_</span>| <span class="macro">panic!</span>(<span class="string">&quot;Error getting subject&quot;</span>));

    <span class="macro">println!</span>(<span class="string">&quot;Subject ID: {}&quot;</span>, subject.subject_id.to_str());

    node.shutdown_gracefully().<span class="kw">await</span>;
}</code></pre></div>
</div></details><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2><div class="item-table"><div class="item-row"><div class="item-left import-item" id="reexport.Error"><code>pub use error::<a class="enum" href="error/enum.Error.html" title="enum taple_core::error::Error">Error</a>;</code></div></div></div><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="crypto/index.html" title="taple_core::crypto mod">crypto</a></div><div class="item-right docblock-short">This module provides the structs and traits for the generation of key pairs for
cryptographic operations.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="error/index.html" title="taple_core::error mod">error</a></div><div class="item-right docblock-short">Possible errors of a TAPLE Node</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="identifier/index.html" title="taple_core::identifier mod">identifier</a></div><div class="item-right docblock-short">Identifiers module</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="message/index.html" title="taple_core::message mod">message</a></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="request/index.html" title="taple_core::request mod">request</a></div><div class="item-right docblock-short">Contains all valid event requests</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="signature/index.html" title="taple_core::signature mod">signature</a></div><div class="item-right docblock-short">Define the data structures related to signatures</div></div></div><h2 id="macros" class="small-section-header"><a href="#macros">Macros</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="macro" href="macro.test_database_manager_trait.html" title="taple_core::test_database_manager_trait macro">test_database_manager_trait</a></div><div class="item-right docblock-short">Allows a TAPLE database implementation to be subjected to a battery of tests.
The use must specify both a valid implementation of <a href="trait.DatabaseManager.html" title="DatabaseManager">DatabaseManager</a> and <a href="trait.DatabaseCollection.html" title="DatabaseCollection">DatabaseCollection</a></div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Api.html" title="taple_core::Api struct">Api</a></div><div class="item-right docblock-short">Object that allows interaction with a TAPLE node.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ApprovalEntity.html" title="taple_core::ApprovalEntity struct">ApprovalEntity</a></div><div class="item-right docblock-short">A struct representing an approval entity.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ApprovalRequest.html" title="taple_core::ApprovalRequest struct">ApprovalRequest</a></div><div class="item-right docblock-short">A struct representing an approval request.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ApprovalResponse.html" title="taple_core::ApprovalResponse struct">ApprovalResponse</a></div><div class="item-right docblock-short">A struct representing an approval response.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.DigestIdentifier.html" title="taple_core::DigestIdentifier struct">DigestIdentifier</a></div><div class="item-right docblock-short">Digest based identifier</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.EvaluationRequest.html" title="taple_core::EvaluationRequest struct">EvaluationRequest</a></div><div class="item-right docblock-short">A struct representing an evaluation request.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.EvaluationResponse.html" title="taple_core::EvaluationResponse struct">EvaluationResponse</a></div><div class="item-right docblock-short">A struct representing an evaluation response.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Event.html" title="taple_core::Event struct">Event</a></div><div class="item-right docblock-short">A struct representing an event.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.KeyIdentifier.html" title="taple_core::KeyIdentifier struct">KeyIdentifier</a></div><div class="item-right docblock-short">Key based identifier</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.MemoryCollection.html" title="taple_core::MemoryCollection struct">MemoryCollection</a></div><div class="item-right docblock-short">Collection for in-memory database implementation. It must be created through <a href="struct.MemoryManager.html" title="MemoryManager">MemoryManager</a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.MemoryManager.html" title="taple_core::MemoryManager struct">MemoryManager</a></div><div class="item-right docblock-short">In-memory database implementation for TAPLE.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Metadata.html" title="taple_core::Metadata struct">Metadata</a></div><div class="item-right docblock-short">A struct representing the metadata of a TAPLE event.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.NetworkSettings.html" title="taple_core::NetworkSettings struct">NetworkSettings</a></div><div class="item-right docblock-short">P2P network configuration parameters of a TAPLE node.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Node.html" title="taple_core::Node struct">Node</a></div><div class="item-right docblock-short">Structure representing a TAPLE node</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.NodeSettings.html" title="taple_core::NodeSettings struct">NodeSettings</a></div><div class="item-right docblock-short">General settings of a TAPLE node.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Settings.html" title="taple_core::Settings struct">Settings</a></div><div class="item-right docblock-short">Configuration parameters of a TAPLE node divided into categories.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SignatureIdentifier.html" title="taple_core::SignatureIdentifier struct">SignatureIdentifier</a></div><div class="item-right docblock-short">Signature based identifier</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SubjectData.html" title="taple_core::SubjectData struct">SubjectData</a></div><div class="item-right docblock-short">A struct representing the data associated with a TAPLE subject.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.TimeStamp.html" title="taple_core::TimeStamp struct">TimeStamp</a></div><div class="item-right docblock-short">A struct representing a timestamp.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ValidationProof.html" title="taple_core::ValidationProof struct">ValidationProof</a></div><div class="item-right docblock-short">A struct representing a validation proof.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ValueWrapper.html" title="taple_core::ValueWrapper struct">ValueWrapper</a></div><div class="item-right docblock-short">Wrapper of serde_json::Value implementing serialization and deserialization with Borsh.</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.ApiError.html" title="taple_core::ApiError enum">ApiError</a></div><div class="item-right docblock-short">Errors that may occur when using the TAPLE API</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.ApprovalState.html" title="taple_core::ApprovalState enum">ApprovalState</a></div><div class="item-right docblock-short">An enum representing the state of an approval entity.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.DbError.html" title="taple_core::DbError enum">DbError</a></div><div class="item-right docblock-short">Errors that can be generated by Taple database implementations</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.DigestDerivator.html" title="taple_core::DigestDerivator enum">DigestDerivator</a></div><div class="item-right docblock-short">Enumeration with digest derivator types</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.EventRequest.html" title="taple_core::EventRequest enum">EventRequest</a></div><div class="item-right docblock-short">An enum representing a TAPLE event request.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.KeyDerivator.html" title="taple_core::KeyDerivator enum">KeyDerivator</a></div><div class="item-right docblock-short">An enumeration of key derivator types.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.ListenAddr.html" title="taple_core::ListenAddr enum">ListenAddr</a></div><div class="item-right docblock-short">Represents a valid listening address for TAPLE. Internally, they are constituted as a MultiAddr.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.ListenAddrErrors.html" title="taple_core::ListenAddrErrors enum">ListenAddrErrors</a></div><div class="item-right docblock-short">Errors that can occur during the generation of a [ListenAddr].</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Notification.html" title="taple_core::Notification enum">Notification</a></div><div class="item-right docblock-short">Notifications generated by [NotificationHandler].
These notifications identify the type of message and its content.
In addition, the message is accompanied by the data used to construct
the message, so that it can be used to construct customized messages.</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.DatabaseCollection.html" title="taple_core::DatabaseCollection trait">DatabaseCollection</a></div><div class="item-right docblock-short">A trait representing a collection of key-value pairs in a database.</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.DatabaseManager.html" title="taple_core::DatabaseManager trait">DatabaseManager</a></div><div class="item-right docblock-short">Trait to define a database compatible with Taple</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Derivable.html" title="taple_core::Derivable trait">Derivable</a></div><div class="item-right docblock-short">Derivable Identifiers</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="taple_core" data-themes="" data-resource-suffix="" data-rustdoc-version="1.67.1 (d5a82bbd2 2023-02-07)" data-search-js="search-444266647c4dba98.js" data-settings-js="settings-bebeae96e00e4617.js" data-settings-css="settings-af96d9e2fc13e081.css" ></div></body></html>