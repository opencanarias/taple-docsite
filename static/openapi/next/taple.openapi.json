{"openapi":"3.0.3","info":{"title":"taple-client","description":"","contact":{"name":"Open Canarias S.L.","email":"taple@opencanarias.com"},"license":{"name":"AGPL-3.0-only","url":"https://raw.githubusercontent.com/opencanarias/taple-client/main/LICENSE"},"version":"0.3.0-dev"},"paths":{"/api/allowed-subjects":{"get":{"tags":["Others"],"summary":"Get authorized subjects","description":"Get authorized subjects\n\nAllows to obtain the list of subjects that have been pre-authorized by the node, as well as the identifiers of the nodes from which to obtain them.","operationId":"Get Allowed Subject Data","parameters":[{"name":"from","in":"query","description":"Id of initial subject","required":false,"schema":{"type":"string","nullable":true}},{"name":"quantity","in":"query","description":"Quantity of subjects requested","required":false,"schema":{"type":"integer","nullable":true}}],"responses":{"200":{"description":"Subject Data successfully retrieved","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PreauthorizedSubjectsResponse"}},"example":[{"providers":[],"subject_id":"JKZgYhPjQdWNWWwkac0wSwqLKoOJsT0QimJmj6zjimWc"}]}}},"400":{"description":"Bad Request"},"500":{"description":"Internal Server Error"}}}},"/api/allowed-subjects/{id}":{"put":{"tags":["Others"],"summary":"Set subject as preauthorized","description":"Set subject as preauthorized\n\nAllows a subject to be established as pre-qualified. It can also be used to specify from which nodes in the network the resource should be obtained.","operationId":"Put Allowed Subject Data","parameters":[{"name":"id","in":"path","description":"Subject's unique id","required":true,"schema":{"type":"string"}}],"requestBody":{"description":"Vote of the user for an existing request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthorizeSubjectBody"},"example":{"providers":[]}}},"required":true},"responses":{"200":{"description":"Subject Data successfully created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthorizeSubjectBody"},"example":{"providers":[]}}}},"400":{"description":"Bad Request"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error"}}}},"/api/approval-requests":{"get":{"tags":["Approvals"],"summary":"Get approvals","description":"Get approvals\n\nAllows to obtain the list of requests for approvals received by the node.\nIt can also be used, by means of the \"status\" parameter, to list the requests pending approval.","operationId":"Get Approval Request Data","parameters":[{"name":"id","in":"path","description":"Approval's unique id","required":true,"schema":{"type":"string"}},{"name":"status","in":"query","description":"Approval's status (possibilities: pending, obsolete, responded)","required":false,"schema":{"type":"string","nullable":true}},{"name":"from","in":"query","description":"Id of initial approval","required":false,"schema":{"type":"string","nullable":true}},{"name":"quantity","in":"query","description":"Quantity of approvals requested","required":false,"schema":{"type":"integer","nullable":true}}],"responses":{"200":{"description":"Approvals Data successfully retrieved","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ApprovalEntityResponse"}},"example":[{"id":"J5dfpH-ahrqSo-od4jyZkubyO-XWFJSQ9maK73jKI4Ao","reponse":null,"request":{"event_request":{"Fact":{"payload":{"Patch":{"data":[{"op":"add","path":"/members/0","value":{"id":"EbwR0yYrCYpTzlN5i5GX_MtAbKRw5y2euv3TqiTgwggs","name":"WPO"}}]}},"subject_id":"JoifaSpfenD2bEPeBLvUTWh30brm4tKcvdW8exQnkGoQ"},"signature":{"signer":"EbwR0yYrCYpTzlN5i5GX_MtAbKRw5y2euv3TqiTgwggs","timestamp":168864358,"value":"SE4yS1Q1Smhm3Az3r6WNFKAGd2Us69vyUA3j5q_riE6MICh_Ub2fSLxNS3Nn-g_CpppvABq6s_c8dF5kbmUir4Ag"}},"gov_version":0,"hash_prev_event":"JLic8SLrT7tJxA9B3aLaaKaIEuV7Wouo2ogHCid6O4g8","patch":[{"op":"add","path":"/members/0","value":{"id":"EbwR0yYrCYpTzlN5i5GX_MtAbKRw5y2euv3TqiTgwggs","name":"WPO"}}],"signature":{"signer":"E0gaiDcPRVmYLUGbseHmBk2_2H-FAlSgaO6ZMOXhh4Gs","timestamp":168864358,"value":"SEFyfXR6kE04gGdCtXZN-So6nNJAAe1qwnTkl0UuoFpCEEuQhwkZND77o1Y9OVuVus8mgGtyAdTi-A7_0MkDKgBw"},"sn":1,"state_hash":"JbDVCZxkDkZ5gLCc7Ge5X75pHHf8dA7_s8UynsnzG5o8"},"state":"Pending"}]}}},"400":{"description":"Bad Request"},"500":{"description":"Internal Server Error"}}}},"/api/approval-requests/{id}":{"get":{"tags":["Approvals"],"summary":"Get approval by ID","description":"Get approval by ID\n\nAllows you to obtain a request for approval by its identifier.","operationId":"Get Approval Request Data","parameters":[{"name":"id","in":"path","description":"Approval's unique id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Approval Data successfully retrieved","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalEntityResponse"},"example":{"id":"J5dfpH-ahrqSo-od4jyZkubyO-XWFJSQ9maK73jKI4Ao","reponse":null,"request":{"event_request":{"Fact":{"payload":{"Patch":{"data":[{"op":"add","path":"/members/0","value":{"id":"EbwR0yYrCYpTzlN5i5GX_MtAbKRw5y2euv3TqiTgwggs","name":"WPO"}}]}},"subject_id":"JoifaSpfenD2bEPeBLvUTWh30brm4tKcvdW8exQnkGoQ"},"signature":{"signer":"EbwR0yYrCYpTzlN5i5GX_MtAbKRw5y2euv3TqiTgwggs","timestamp":1688643580,"value":"SE4yS1Q1Smhm3Az3r6WNFKAGd2Us69vyUA3j5q_riE6MICh_Ub2fSLxNS3Nn-g_CpppvABq6s_c8dF5kbmUir4Ag"}},"gov_version":0,"hash_prev_event":"JLic8SLrT7tJxA9B3aLaaKaIEuV7Wouo2ogHCid6O4g8","patch":[{"op":"add","path":"/members/0","value":{"id":"EbwR0yYrCYpTzlN5i5GX_MtAbKRw5y2euv3TqiTgwggs","name":"WPO"}}],"signature":{"signer":"E0gaiDcPRVmYLUGbseHmBk2_2H-FAlSgaO6ZMOXhh4Gs","timestamp":1688643580,"value":"SEFyfXR6kE04gGdCtXZN-So6nNJAAe1qwnTkl0UuoFpCEEuQhwkZND77o1Y9OVuVus8mgGtyAdTi-A7_0MkDKgBw"},"sn":1,"state_hash":"JbDVCZxkDkZ5gLCc7Ge5X75pHHf8dA7_s8UynsnzG5o8"},"state":"Pending"}}}},"400":{"description":"Bad Request"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error"}}},"patch":{"tags":["Approvals"],"summary":"Emit approval for request","description":"Emit approval for request\n\nAllows you to issue an affirmative or negative approval for a previously received request.","operationId":"Set your Aprroval for a request","parameters":[{"name":"id","in":"path","description":"Approval's unique id","required":true,"schema":{"type":"string"}}],"requestBody":{"description":"Vote of the user for an existing request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PatchVoteBody"},"example":{"approvalType":"Accept"}}},"required":true},"responses":{"204":{"description":"Request successfully voted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalEntityResponse"},"example":{"id":"J5dfpH-ahrqSo-od4jyZkubyO-XWFJSQ9maK73jKI4Ao","reponse":{"appr_req_hash":"J5dfpH-ahrqSo-od4jyZkubyO-XWFJSQ9maK73jKI4Ao","approved":true,"signature":{"signer":"EbwR0yYrCYpTzlN5i5GX_MtAbKRw5y2euv3TqiTgwggs","timestamp":168864361,"value":"SERUEr362pHPIcORhUnYPxnW1A_jW675_yphYIQIKaO6wytdh7xwwNTXHW6Q1fs9F6ag8VpTy2DM_5ppRT7irFDg"}},"request":{"event_request":{"Fact":{"payload":{"Patch":{"data":[{"op":"add","path":"/members/0","value":{"id":"EbwR0yYrCYpTzlN5i5GX_MtAbKRw5y2euv3TqiTgwggs","name":"WPO"}}]}},"subject_id":"JoifaSpfenD2bEPeBLvUTWh30brm4tKcvdW8exQnkGoQ"},"signature":{"signer":"EbwR0yYrCYpTzlN5i5GX_MtAbKRw5y2euv3TqiTgwggs","timestamp":1688643580,"value":"SE4yS1Q1Smhm3Az3r6WNFKAGd2Us69vyUA3j5q_riE6MICh_Ub2fSLxNS3Nn-g_CpppvABq6s_c8dF5kbmUir4Ag"}},"gov_version":0,"hash_prev_event":"JLic8SLrT7tJxA9B3aLaaKaIEuV7Wouo2ogHCid6O4g8","patch":[{"op":"add","path":"/members/0","value":{"id":"EbwR0yYrCYpTzlN5i5GX_MtAbKRw5y2euv3TqiTgwggs","name":"WPO"}}],"signature":{"signer":"E0gaiDcPRVmYLUGbseHmBk2_2H-FAlSgaO6ZMOXhh4Gs","timestamp":1688643580,"value":"SEFyfXR6kE04gGdCtXZN-So6nNJAAe1qwnTkl0UuoFpCEEuQhwkZND77o1Y9OVuVus8mgGtyAdTi-A7_0MkDKgBw"},"sn":1,"state_hash":"JbDVCZxkDkZ5gLCc7Ge5X75pHHf8dA7_s8UynsnzG5o8"},"state":"Responded"}}}},"400":{"description":"Bad Request"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"500":{"description":"Internal Server Error"}}}},"/api/event-requests":{"post":{"tags":["Requests"],"summary":"Send event request","description":"Send event request\n\nAllows to send an event request for a subject to the TAPLE node.\nThese requests can be of any type of event (done, creation, transfer and end of life).\nIn case of external invocation, the requests can be signed.","operationId":"createEventRequest","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostEventRequestBodyPreSignature"}}},"required":true},"responses":{"201":{"description":"Request Created Successfully","content":{"text/plain":{"schema":{"type":"string"},"example":{"request_id":"J8618wGO7hH4wRuEeL0Ob5XNI9Q73BlCNlV8cWBORq78"}}}},"400":{"description":"Bad Request"},"409":{"description":"Conflict"},"500":{"description":"Internal Server Error"}}}},"/api/event-requests/{id}":{"get":{"tags":["Requests"],"summary":"Get event request","description":"Get event request\n\nAllows to obtain an event request by its identifier","operationId":"Get Event Request Data","parameters":[{"name":"id","in":"path","description":"Event Request's unique id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Request Data successfully retrieved","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TapleRequestResponse"},"example":{"Fact":{"payload":{"Patch":{"data":[{"op":"add","path":"/members/0","value":{"id":"EbwR0yYrCYpTzlN5i5GX_MtAbKRw5y2euv3TqiTgwggs","name":"WPO"}}]}},"subject_id":"JoifaSpfenD2bEPeBLvUTWh30brm4tKcvdW8exQnkGoQ"},"signature":{"signer":"EbwR0yYrCYpTzlN5i5GX_MtAbKRw5y2euv3TqiTgwggs","timestamp":1688643580,"value":"SE4yS1Q1Smhm3Az3r6WNFKAGd2Us69vyUA3j5q_riE6MICh_Ub2fSLxNS3Nn-g_CpppvABq6s_c8dF5kbmUir4Ag"}}}}},"400":{"description":"Bad Request"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error"}}}},"/api/event-requests/{id}/state":{"get":{"tags":["Requests"],"summary":"Get event request state","description":"Get event request state\n\nAllows to obtain the status of an event request by its identifier.","operationId":"Get Event Request State Data","parameters":[{"name":"id","in":"path","description":"Event Request's unique id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Request Data successfully retrieved","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TapleRequestStateResponse"},"example":{"id":"JyyWIjUa3Ui04oTSN4pJFT8FhmgPRPXzsG4_tIX8IBFg","sn":1,"state":"finished","subject_id":"JoifaSpfenD2bEPeBLvUTWh30brm4tKcvdW8exQnkGoQ","success":true}}}},"400":{"description":"Bad Request"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error"}}}},"/api/keys":{"post":{"tags":["Others"],"summary":"Register KeyPair","description":"Register KeyPair\n\nIt allows to generate a pair of cryptographic keys in the node that can then be assigned to a subject. The private key is never revealed.","operationId":"createKeys","parameters":[{"name":"algorithm","in":"path","description":"Type of algorithm to use (possibilities: Ed25519, Secp256k1)","required":true,"schema":{"type":"string"}}],"responses":{"201":{"description":"Public Key of the generated keypair","content":{"text/plain":{"schema":{"type":"string"},"example":{"public_key":"ELZ_b-kZzdPykcYuRNC2ZZe_2lCTCUoo60GXfR4cuXMw"}}}},"400":{"description":"Bad Request"},"500":{"description":"Internal Server Error"}}}},"/api/subjects":{"get":{"tags":["Subjects"],"summary":"Get subjects","description":"Get subjects\n\nAllows to obtain, with pagination, the list of subjects known by the node.\nIt can also be used to obtain exclusively the governances and all the subjects belonging to a specific one.","operationId":"Get All Subjects Data","parameters":[{"name":"subject_type","in":"query","description":"Type of subjects requested (possibilities: all, governances)","required":false,"schema":{"type":"string","nullable":true}},{"name":"governanceid","in":"query","description":"Governance id of subjects requested","required":false,"schema":{"type":"string","nullable":true}},{"name":"from","in":"query","description":"Identifier of the initial subject to be considered in pagination","required":false,"schema":{"type":"string","nullable":true}},{"name":"quantity","in":"query","description":"Quantity of subjects requested","required":false,"schema":{"type":"integer","nullable":true}}],"responses":{"200":{"description":"Subjects Data successfully retrieved","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SubjectDataResponse"}},"example":[{"active":true,"creator":"EbwR0yYrCYpTzlN5i5GX_MtAbKRw5y2euv3TqiTgwggs","governance_id":"","name":"Wine_Producers_Organization","namespace":"","owner":"EbwR0yYrCYpTzlN5i5GX_MtAbKRw5y2euv3TqiTgwggs","properties":{"members":[],"policies":[{"approve":{"quorum":"MAJORITY"},"evaluate":{"quorum":"MAJORITY"},"id":"governance","validate":{"quorum":"MAJORITY"}}],"roles":[],"schemas":[]},"public_key":"E0gaiDcPRVmYLUGbseHmBk2_2H-FAlSgaO6ZMOXhh4Gs","schema_id":"governance","sn":0,"subject_id":"JoifaSpfenD2bEPeBLvUTWh30brm4tKcvdW8exQnkGoQ"}]}}},"400":{"description":"Bad Request"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error"}}}},"/api/subjects/{id}":{"get":{"tags":["Subjects"],"summary":"Get subject by ID","description":"Get subject by ID\nAllows to obtain a specific subject by means of its identifier","operationId":"Get Subject Data","parameters":[{"name":"id","in":"path","description":"Subject's unique id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Subject Data successfully retrieved","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubjectDataResponse"},"example":{"active":true,"creator":"EbwR0yYrCYpTzlN5i5GX_MtAbKRw5y2euv3TqiTgwggs","governance_id":"","name":"Wine_Producers_Organization","namespace":"","owner":"EbwR0yYrCYpTzlN5i5GX_MtAbKRw5y2euv3TqiTgwggs","properties":{"members":[],"policies":[{"approve":{"quorum":"MAJORITY"},"evaluate":{"quorum":"MAJORITY"},"id":"governance","validate":{"quorum":"MAJORITY"}}],"roles":[],"schemas":[]},"public_key":"E0gaiDcPRVmYLUGbseHmBk2_2H-FAlSgaO6ZMOXhh4Gs","schema_id":"governance","sn":0,"subject_id":"JoifaSpfenD2bEPeBLvUTWh30brm4tKcvdW8exQnkGoQ"}}}},"400":{"description":"Bad Request"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error"}}}},"/api/subjects/{id}/events":{"get":{"tags":["Subjects"],"summary":"Get events of a subject","description":"Get events of a subject\n\nAllows to obtain, with pagination, the list of events of a subject.","operationId":"getEvents","parameters":[{"name":"id","in":"path","description":"Subject's unique id","required":true,"schema":{"type":"string"}},{"name":"from","in":"query","description":"SN from which the event list should begin","required":false,"schema":{"type":"integer","nullable":true,"minimum":0}},{"name":"quantity","in":"query","description":"Quantity of events requested","required":false,"schema":{"type":"integer","nullable":true,"minimum":0}}],"responses":{"200":{"description":"Subjects Data successfully retrieved","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SignedEvent"}},"example":[{"appr_required":false,"approved":true,"approvers":[],"eval_success":true,"evaluators":[],"event_request":{"Create":{"governance_id":"","name":"Wine_Producers_Organization","namespace":"","public_key":"E0gaiDcPRVmYLUGbseHmBk2_2H-FAlSgaO6ZMOXhh4Gs","schema_id":"governance"},"signature":{"signer":"EbwR0yYrCYpTzlN5i5GX_MtAbKRw5y2euv3TqiTgwggs","timestamp":1688643031,"value":"SE-tHjb3eWcMvVIYuSBPn0EW4Q5mQs2uswS5HLl0GB0iYVEc5jcOWD78ZHRL8VlO0mtxv9KWt2EI9R9Id2Z5o8CA"}},"hash_prev_event":"","patch":[{"op":"add","path":"/members","value":[]},{"op":"add","path":"/policies","value":[{"approve":{"quorum":"MAJORITY"},"evaluate":{"quorum":"MAJORITY"},"id":"governance","validate":{"quorum":"MAJORITY"}}]},{"op":"add","path":"/roles","value":[]},{"op":"add","path":"/schemas","value":[]}],"signature":{"signer":"E0gaiDcPRVmYLUGbseHmBk2_2H-FAlSgaO6ZMOXhh4Gs","timestamp":168864303,"value":"SEnTz4Nw-rX6y00yNF01o__AwyWxyG1s669AetXCfrnxCTSyf67xv8AsnccTOe4fFm-2ZIeRjubdf5FTQHZAd7BQ"},"sn":0,"state_hash":"JVKr8BAEs1DhpNjMZf4525IYps2Gu6m7ZBmuaNBoM_Qk","subject_id":"JoifaSpfenD2bEPeBLvUTWh30brm4tKcvdW8exQnkGoQ"}]}}},"400":{"description":"Bad Request"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error"}}}},"/api/subjects/{id}/events/{sn}":{"get":{"tags":["Subjects"],"summary":"Get an event from a subject","description":"Get an event from a subject\n\nAllows to obtain a specific event from a subject","operationId":"getEvent","parameters":[{"name":"id","in":"path","description":"Subject's unique id","required":true,"schema":{"type":"string"}},{"name":"sn","in":"path","description":"Event sn","required":true,"schema":{"type":"integer","format":"int64","minimum":0}}],"responses":{"200":{"description":"Subjects Data successfully retrieved","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignedEvent"},"example":{"appr_required":false,"approved":true,"approvers":[],"eval_success":true,"evaluators":[],"event_request":{"Create":{"governance_id":"","name":"Wine_Producers_Organization","namespace":"","public_key":"E0gaiDcPRVmYLUGbseHmBk2_2H-FAlSgaO6ZMOXhh4Gs","schema_id":"governance"},"signature":{"signer":"EbwR0yYrCYpTzlN5i5GX_MtAbKRw5y2euv3TqiTgwggs","timestamp":168864303,"value":"SE-tHjb3eWcMvVIYuSBPn0EW4Q5mQs2uswS5HLl0GB0iYVEc5jcOWD78ZHRL8VlO0mtxv9KWt2EI9R9Id2Z5o8CA"}},"gov_version":0,"hash_prev_event":"","patch":[{"op":"add","path":"/members","value":[]},{"op":"add","path":"/policies","value":[{"approve":{"quorum":"MAJORITY"},"evaluate":{"quorum":"MAJORITY"},"id":"governance","validate":{"quorum":"MAJORITY"}}]},{"op":"add","path":"/roles","value":[]},{"op":"add","path":"/schemas","value":[]}],"signature":{"signer":"E0gaiDcPRVmYLUGbseHmBk2_2H-FAlSgaO6ZMOXhh4Gs","timestamp":168864303,"value":"SEnTz4Nw-rX6y00yNF01o__AwyWxyG1s669AetXCfrnxCTSyf67xv8AsnccTOe4fFm-2ZIeRjubdf5FTQHZAd7BQ"},"sn":0,"state_hash":"JVKr8BAEs1DhpNjMZf4525IYps2Gu6m7ZBmuaNBoM_Qk","subject_id":"JoifaSpfenD2bEPeBLvUTWh30brm4tKcvdW8exQnkGoQ"}}}},"400":{"description":"Bad Request"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error"}}}},"/api/subjects/{id}/validation":{"get":{"tags":["Subjects"],"summary":"Get validation proof","description":"Get validation proof\n\nAllows to obtain the validation test of the last event for a specified subject.","operationId":"getValidation","parameters":[{"name":"id","in":"path","description":"Subject's unique id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Subjects Data successfully retrieved","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetProofResponse"},"example":{"proof":{"event_hash":"JLic8SLrT7tJxA9B3aLaaKaIEuV7Wouo2ogHCid6O4g8","genesis_governance_version":0,"governance_id":"","governance_version":0,"name":"Wine_Producers_Organization","namespace":"","prev_event_hash":"","schema_id":"governance","sn":0,"subject_id":"JoifaSpfenD2bEPeBLvUTWh30brm4tKcvdW8exQnkGoQ","subject_public_key":"E0gaiDcPRVmYLUGbseHmBk2_2H-FAlSgaO6ZMOXhh4Gs"},"signatures":[{"signer":"EbwR0yYrCYpTzlN5i5GX_MtAbKRw5y2euv3TqiTgwggs","timestamp":1688643031,"value":"SEF3qN1uKIgNfnK6YlgU7rlCvDCNHhl_tdcRBvQRyGShR8oOOw5tVk8_OUNlyaJV_HsrISeX8jAf4L3diodRZ_Dg"}]}}}},"400":{"description":"Bad Request"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error"}}}}},"components":{"schemas":{"ApprovalEntityResponse":{"type":"object","required":["id","request","state"],"properties":{"id":{"type":"string","description":"Approval request identifier"},"reponse":{"allOf":[{"$ref":"#/components/schemas/SignedApprovalResponseBody"}],"nullable":true},"request":{"$ref":"#/components/schemas/SignedApprovalRequestResponse"},"state":{"$ref":"#/components/schemas/ApprovalStateResponse"}}},"ApprovalRequestResponse":{"type":"object","required":["event_request","sn","gov_version","patch","state_hash","hash_prev_event"],"properties":{"event_request":{"$ref":"#/components/schemas/SignedRequestBody"},"gov_version":{"type":"integer","format":"int64","description":"Governance version","minimum":0},"hash_prev_event":{"type":"string","description":"Previous event hash"},"patch":{"description":"Changes to be applied to the subject"},"sn":{"type":"integer","format":"int64","description":"Current sequence number of the subject","minimum":0},"state_hash":{"type":"string","description":"Hash of the state"}}},"ApprovalResponseBody":{"type":"object","required":["appr_req_hash","approved"],"properties":{"appr_req_hash":{"type":"string","description":"Hash of the request for approval"},"approved":{"type":"boolean","description":"Value specifying if it has been approved"}}},"ApprovalStateResponse":{"type":"string","enum":["Pending","RespondedAccepted","RespondedRejected","Obsolete"]},"AuthorizeSubjectBody":{"type":"object","required":["providers"],"properties":{"providers":{"type":"array","items":{"type":"string"},"description":"Providers acting on a specific subject"}}},"CreateRequestBody":{"type":"object","required":["governance_id","schema_id","namespace","name"],"properties":{"governance_id":{"type":"string","description":"Governance identifier"},"name":{"type":"string","description":"Name of subject"},"namespace":{"type":"string","description":"Namespace to which the subject belongs"},"public_key":{"type":"string","description":"Public key of the subject","nullable":true},"schema_id":{"type":"string","description":"Subject schema json identifier"}}},"EOLRequestBody":{"type":"object","required":["subject_id"],"properties":{"subject_id":{"type":"string","description":"Subject identifier"}}},"ErrorResponse":{"type":"object","required":["code","error"],"properties":{"code":{"type":"integer","format":"int32","description":"Error code","minimum":0},"error":{"type":"string","description":"Error message"}}},"EventContentResponse":{"type":"object","required":["subject_id","event_request","gov_version","sn","patch","state_hash","eval_success","appr_required","approved","hash_prev_event","evaluators","approvers"],"properties":{"appr_required":{"type":"boolean","description":"Value specifying if approval is required"},"approved":{"type":"boolean","description":"Value specifying if it has been approved"},"approvers":{"type":"array","items":{"$ref":"#/components/schemas/SignatureBody"},"description":"Signatures of the approvers"},"eval_success":{"type":"boolean","description":"Value specifying if the evaluation process has gone well"},"evaluators":{"type":"array","items":{"$ref":"#/components/schemas/SignatureBody"},"description":"Signatures of the evaluators"},"event_request":{"$ref":"#/components/schemas/SignedRequestBody"},"gov_version":{"type":"integer","format":"int64","description":"The version of the governance contract.","minimum":0},"hash_prev_event":{"type":"string","description":"Previous event hash"},"patch":{"description":"Changes to be applied to the subject"},"sn":{"type":"integer","format":"int64","description":"Current sequence number of the subject","minimum":0},"state_hash":{"type":"string","description":"Hash of the state"},"subject_id":{"type":"string","description":"Subject identifier"}}},"EventRequestBody":{"oneOf":[{"type":"object","required":["Create"],"properties":{"Create":{"$ref":"#/components/schemas/CreateRequestBody"}}},{"type":"object","required":["Fact"],"properties":{"Fact":{"$ref":"#/components/schemas/FactRequestBody"}}},{"type":"object","required":["Transfer"],"properties":{"Transfer":{"$ref":"#/components/schemas/TransferRequestBody"}}},{"type":"object","required":["EOL"],"properties":{"EOL":{"$ref":"#/components/schemas/EOLRequestBody"}}}]},"FactRequestBody":{"type":"object","required":["subject_id","payload"],"properties":{"payload":{"description":"Changes to be applied to the subject"},"subject_id":{"type":"string","description":"Subject identifier"}}},"GetProofResponse":{"type":"object","required":["proof","signatures"],"properties":{"proof":{"$ref":"#/components/schemas/ValidationProofResponse"},"signatures":{"type":"array","items":{"$ref":"#/components/schemas/SignatureBody"},"description":"Validators' signatures"}}},"PatchVoteBody":{"oneOf":[{"type":"object","required":["state"],"properties":{"state":{"type":"string","enum":["RespondedAccepted"]}}},{"type":"object","required":["state"],"properties":{"state":{"type":"string","enum":["RespondedRejected"]}}}]},"PostEventRequestBodyPreSignature":{"allOf":[{"$ref":"#/components/schemas/EventRequestBody"},{"type":"object","properties":{"signature":{"allOf":[{"$ref":"#/components/schemas/SignatureBody"}],"nullable":true}}}]},"PreauthorizedSubjectsResponse":{"type":"object","required":["subject_id","providers"],"properties":{"providers":{"type":"array","items":{"type":"string"},"description":"Providers acting on a specific subject"},"subject_id":{"type":"string","description":"Subject identifier"}}},"RequestStateResponse":{"type":"string","enum":["finished","error","processing"]},"SignatureBody":{"type":"object","required":["signer","timestamp","value"],"properties":{"signer":{"type":"string","description":"Signature of the issuer"},"timestamp":{"type":"integer","format":"int64","description":"Timestamp at which the signature was made","minimum":0},"value":{"type":"string","description":"Signature value"}}},"SignedApprovalRequestResponse":{"type":"object","properties":{"ApprovalRequestResponse":{"type":"object","required":["event_request","sn","gov_version","patch","state_hash","hash_prev_event"],"properties":{"event_request":{"$ref":"#/components/schemas/SignedRequestBody"},"gov_version":{"type":"integer","format":"int64","description":"Governance version","minimum":0},"hash_prev_event":{"type":"string","description":"Previous event hash"},"patch":{"description":"Changes to be applied to the subject"},"sn":{"type":"integer","format":"int64","description":"Current sequence number of the subject","minimum":0},"state_hash":{"type":"string","description":"Hash of the state"}}},"SignatureBody":{"type":"object","required":["signer","timestamp","value"],"properties":{"signer":{"type":"string","description":"Signature of the issuer"},"timestamp":{"type":"integer","format":"int64","description":"Timestamp at which the signature was made","minimum":0},"value":{"type":"string","description":"Signature value"}}}}},"SignedApprovalResponseBody":{"type":"object","properties":{"ApprovalResponseBody":{"type":"object","required":["appr_req_hash","approved"],"properties":{"appr_req_hash":{"type":"string","description":"Hash of the request for approval"},"approved":{"type":"boolean","description":"Value specifying if it has been approved"}}},"SignatureBody":{"type":"object","required":["signer","timestamp","value"],"properties":{"signer":{"type":"string","description":"Signature of the issuer"},"timestamp":{"type":"integer","format":"int64","description":"Timestamp at which the signature was made","minimum":0},"value":{"type":"string","description":"Signature value"}}}}},"SignedEvent":{"type":"object","properties":{"EventContentResponse":{"type":"object","required":["subject_id","event_request","gov_version","sn","patch","state_hash","eval_success","appr_required","approved","hash_prev_event","evaluators","approvers"],"properties":{"appr_required":{"type":"boolean","description":"Value specifying if approval is required"},"approved":{"type":"boolean","description":"Value specifying if it has been approved"},"approvers":{"type":"array","items":{"$ref":"#/components/schemas/SignatureBody"},"description":"Signatures of the approvers"},"eval_success":{"type":"boolean","description":"Value specifying if the evaluation process has gone well"},"evaluators":{"type":"array","items":{"$ref":"#/components/schemas/SignatureBody"},"description":"Signatures of the evaluators"},"event_request":{"$ref":"#/components/schemas/SignedRequestBody"},"gov_version":{"type":"integer","format":"int64","description":"The version of the governance contract.","minimum":0},"hash_prev_event":{"type":"string","description":"Previous event hash"},"patch":{"description":"Changes to be applied to the subject"},"sn":{"type":"integer","format":"int64","description":"Current sequence number of the subject","minimum":0},"state_hash":{"type":"string","description":"Hash of the state"},"subject_id":{"type":"string","description":"Subject identifier"}}},"SignatureBody":{"type":"object","required":["signer","timestamp","value"],"properties":{"signer":{"type":"string","description":"Signature of the issuer"},"timestamp":{"type":"integer","format":"int64","description":"Timestamp at which the signature was made","minimum":0},"value":{"type":"string","description":"Signature value"}}}}},"SignedRequestBody":{"type":"object","properties":{"EventRequestBody":{"oneOf":[{"type":"object","required":["Create"],"properties":{"Create":{"$ref":"#/components/schemas/CreateRequestBody"}}},{"type":"object","required":["Fact"],"properties":{"Fact":{"$ref":"#/components/schemas/FactRequestBody"}}},{"type":"object","required":["Transfer"],"properties":{"Transfer":{"$ref":"#/components/schemas/TransferRequestBody"}}},{"type":"object","required":["EOL"],"properties":{"EOL":{"$ref":"#/components/schemas/EOLRequestBody"}}}]},"SignatureBody":{"type":"object","required":["signer","timestamp","value"],"properties":{"signer":{"type":"string","description":"Signature of the issuer"},"timestamp":{"type":"integer","format":"int64","description":"Timestamp at which the signature was made","minimum":0},"value":{"type":"string","description":"Signature value"}}}}},"SubjectDataResponse":{"type":"object","required":["subject_id","governance_id","sn","public_key","namespace","name","schema_id","owner","creator","properties","active"],"properties":{"active":{"type":"boolean","description":"Indicates if the subject is active or not"},"creator":{"type":"string","description":"Subject creator identifier"},"governance_id":{"type":"string","description":"Governance identifier"},"name":{"type":"string","description":"The name of the subject."},"namespace":{"type":"string","description":"Namespace of the subject"},"owner":{"type":"string","description":"Subject owner identifier"},"properties":{"description":"Current status of the subject"},"public_key":{"type":"string","description":"Public key of the subject"},"schema_id":{"type":"string","description":"Identifier of the schema used by the subject and defined in associated governance"},"sn":{"type":"integer","format":"int64","description":"Current sequence number of the subject","minimum":0},"subject_id":{"type":"string","description":"Subject identifier"}}},"TapleRequestResponse":{"allOf":[{"$ref":"#/components/schemas/EventRequestBody"},{"type":"object","required":["signature"],"properties":{"signature":{"$ref":"#/components/schemas/SignatureBody"}}}]},"TapleRequestStateResponse":{"type":"object","required":["id","state"],"properties":{"id":{"type":"string","description":"Request identifier"},"sn":{"type":"integer","format":"int64","description":"Current sequence number of the subject","nullable":true,"minimum":0},"state":{"$ref":"#/components/schemas/RequestStateResponse"},"subject_id":{"type":"string","description":"Subject identifier","nullable":true},"success":{"type":"boolean","description":"Value that says if the request has been successful","nullable":true}}},"TransferRequestBody":{"type":"object","required":["subject_id","public_key"],"properties":{"public_key":{"type":"string","description":"Public key of the new owner"},"subject_id":{"type":"string","description":"Subject identifier"}}},"ValidationProofResponse":{"type":"object","required":["subject_id","schema_id","namespace","name","subject_public_key","governance_id","genesis_governance_version","sn","prev_event_hash","event_hash","governance_version"],"properties":{"event_hash":{"type":"string","description":"Hash of the event"},"genesis_governance_version":{"type":"integer","format":"int64","description":"Governance version of the genesis event","minimum":0},"governance_id":{"type":"string","description":"Governance identifier"},"governance_version":{"type":"integer","format":"int64","description":"Governance version","minimum":0},"name":{"type":"string","description":"Name of subject"},"namespace":{"type":"string","description":"Namespace to which the subject belongs"},"prev_event_hash":{"type":"string","description":"Previous event hash"},"schema_id":{"type":"string","description":"Subject schema json identifier"},"sn":{"type":"integer","format":"int64","description":"Current sequence number of the subject","minimum":0},"subject_id":{"type":"string","description":"Subject identifier"},"subject_public_key":{"type":"string","description":"Public key of the subject"}}}}},"security":[],"tags":[{"name":"Approvals"},{"name":"Requests"},{"name":"Subjects"},{"name":"Others"}]}